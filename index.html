<script>
  function loadAstroApp() {
    const API_KEY = "Z5YtDsQbop2B8wII3TPsxQhZyaYS03Xprm72lKp2Fue7TJop3D";
    let script = document.createElement("script");
    script.src = `https://astroapp.com/astro/astroapi?key=${API_KEY}`;
    script.onload = astroInit;
    script.onerror = function () {
      console.error("Failed to load AstroApp script.");
      alert("AstroApp failed to load!");
    };
    document.head.appendChild(script);
  }

  function astroInit() {
    if (typeof AstroApp === "undefined") {
      console.error("AstroApp failed to load.");
      return;
    }

    console.log("âœ… AstroApp Loaded Successfully!");

    var astroapp = new AstroApp();
    astroapp.setTarget("astroappDiv");
    astroapp.setLatitude("37N55");
    astroapp.setLongitude("122W25");
    astroapp.setDate("2025:02:14");
    astroapp.setTime("12:00:00");
    astroapp.setTimeZone("-08:00");
    astroapp.needImage();

    astroRun(astroapp, (results) => console.log("Results:", results));
  }

  loadAstroApp();
</script>
